<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History</title>
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/header.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/footer.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/slider.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/categories.css">
    {% include 'links.html' %}
    <style>
        .t-color {
            color: #a9802a;
        }

        .t-back {
            background-color: #fbecea;
        }
    </style>
</head>

<body>
    {% include 'header.html' %}
    <div class="row text-center t-color">
        <h1>Previous Orders<h1>
    </div>
    <div class="container-fluid">
        <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4">
            {% for order in orders %}
            <div class="col mt-3">

                <div class="card h-100 ">
                    <div class="card-header" style=" background-color: #a9802a;color:#fbecea;">Order Number:
                        {{order.id}}</div>
                    <div class="card-body t-back">


                        <div class="detail">
                            <h2>Total Amount</h2>
                            <p>{{order.total_amount}}</p>
                        </div>
                        <div class="detail">
                            <h2>Order Time</h2>
                            <p>{{order.order_time}}</p>
                        </div>
                        <div class="detail">
                            <h2>Payment Mode</h2>
                            <p>Cash On Delivery</p>
                        </div>
                        <a href="/OrderHistory/OrderDetails/{{order.id}}" class="btn "
                            style="background-color: #a9802a;color:#fbecea;">View Details</a>


                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    {% if loginID != None %}

    <script>
        document.querySelector('.site-menu').innerHTML += "<li class='menu-item user-menu'><a id='menu-link'><i class='fa-regular fa-circle-user'></i></a><ul class='user-options-menu'><li class='menu-item'><a href='{% url 'logOut' %}' class='menu-link'>Log Out</a></li><li class='menu-item'><a id='confirm-sign-out' class='menu-link'>Sign Out</a></li><li class='menu-item'><a href='{% url 'editProfile' %}' class='menu-link'>Edit Profile</a></li><li class='menu-item'><a href='{% url 'orderHistory' %}' class='menu-link'>My Orders</a></li></ul></li> <li class='menu-item'><a href='{% url 'openCart' %}' class='menu-link'><i class='fa fa-solid fa-cart-plus'></i></a></li>";

        document.getElementById('confirm-sign-out').addEventListener('click', function () {
            document.querySelector('.confirm-box').style.display = "block";
        });
        document.querySelector('.cancel-btn').addEventListener('click', function () {
            document.querySelector('.confirm-box').style.display = "none";
        });
    </script>
    {% endif %}
</body>

</html>